<?xml version='1.0' ?>
<!-- XML sencillo -->
<!-- La salida de la tabla de ejecucion deberÃ­a ser: -->
<!-- sonar.0, sonar.1, sonar.2, actuador.0, caja.0, caja.1, actuador.1 -->
<conducta id_comportamiento_inicial="comportamiento_adelante">

	<robot id="khepera" />

	<sensores>
		<sensor id='proximidad.320'/>
		<sensor id='proximidad.340'/>
		<sensor id='proximidad.350'/>
		<sensor id='proximidad.10'/>
		<sensor id='proximidad.20'/>
		<sensor id='proximidad.40'/>
		<sensor id='proximidad.170'/>
		<sensor id='proximidad.190'/>
	</sensores>

	<timers>
		<timer id="timer.1"></timer>
		<timer id="timer.2"></timer>
	</timers>
	
	<contadores>
		<contador id="contador.1"></contador>
		<contador id="contador.2"></contador>
		<contador id="contador.3"></contador>
	</contadores>

	<comportamiento id="comportamiento_adelante">
		
		<cajas>
			
			<caja id="caja.11114">
				<esquema id="energia"/>
				<punto x="0" y="20"/>
				<punto x="100" y="20"/>
			</caja>
			
			<caja id="caja.44399">
				<esquema id="energia"/>
				<punto x="0" y="20"/>
				<punto x="100" y="20"/>
			</caja>
			
		</cajas>
		
		<actuadores>
			
			<actuador id="motor.izquierda">
				<entradas>
					<entrada id_entrada="caja.11114"/>
				</entradas>
			</actuador>
			
			<actuador id="motor.derecha">
				<entradas>
					<entrada id_entrada="caja.44399"/>
				</entradas>
			</actuador>
			
		</actuadores>
	
		<transiciones>
			
			<transicion id="transicion.1" id_destino="comportamiento_atras">
				
				<condiciones>
					<condicion id_elemento='proximidad.350' comparacion='mayor' umbral='1' />
					<condicion id_elemento='proximidad.10' comparacion='mayor' umbral='1' />
				</condiciones>
				
				<actualizaciones>
					<actualizacion tipo="timer" id_timer='timer.1'/>
					<actualizacion tipo="contador" id_contador='contador.1' accion="incrementar" />
				</actualizaciones>
				
			</transicion>
			
		</transiciones>
	
	</comportamiento>
	
	<comportamiento id='comportamiento_atras'>
		
		<cajas>
			
			<caja id="caja.3">
				<esquema id="energia"/>
				<punto x="0" y="-20"/>
				<punto x="100" y="-20"/>
			</caja>
			
			<caja id="caja.4">
				<esquema id="energia"/>
				<punto x="0" y="-20"/>
				<punto x="100" y="-20"/>
			</caja>
			
		</cajas>
		
		<actuadores>
			
			<actuador id="motor.izquierda">
				<entradas>
					<entrada id_entrada="caja.3"/>
				</entradas>
			</actuador>
			
			<actuador id="motor.derecha">
				<entradas>
					<entrada id_entrada="caja.4"/>
				</entradas>
			</actuador>
			
		</actuadores>
		
		<transiciones>
			
			<transicion id="transicion.2" id_destino="comportamiento_adelante">
				
				<condiciones>
					<condicion id_elemento='proximidad.170' comparacion='mayor' umbral='1' />
				</condiciones>
				
				<actualizaciones>
					<actualizacion tipo="contador" id_contador='contador.1' accion="incrementar" />
				</actualizaciones>
				
			</transicion>
			
			<transicion id="transicion.3" id_destino="comportamiento_adelante">
				
				<condiciones>
					<condicion id_elemento='proximidad.190' comparacion='mayor' umbral='1' />
				</condiciones>
				
				<actualizaciones>
					<actualizacion tipo="contador" id_contador='contador.1' accion="incrementar" />
				</actualizaciones>
				
			</transicion>
			
		</transiciones>
		
	</comportamiento>
	
</conducta>

